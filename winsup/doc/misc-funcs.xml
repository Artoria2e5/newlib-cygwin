<?xml version="1.0" encoding='UTF-8'?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook V4.5//EN"
    "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">

<sect1 id="func-cygwin-misc">
<title>Miscellaneous functions</title>

<refentry id="func-cygwin-attach-handle-to-fd">
  <refmeta>
    <refentrytitle>cygwin_attach_handle_to_fd</refentrytitle>
    <manvolnum>3</manvolnum>
    <refmiscinfo class="manual">Cygwin API Reference</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>cygwin_attach_handle_to_fd</refname>
  </refnamediv>

  <refsynopsisdiv>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;sys/cygwin.h&gt;
</funcsynopsisinfo>
<funcprototype>
<funcdef>int
<function>cygwin_attach_handle_to_fd</function></funcdef>
<paramdef>char *<parameter>name</parameter></paramdef>
<paramdef>int <parameter>fd</parameter></paramdef>
<paramdef>HANDLE <parameter>handle</parameter></paramdef>
<paramdef>int <parameter>bin</parameter></paramdef>
<paramdef>int <parameter>access</parameter></paramdef>
</funcprototype></funcsynopsis>
  </refsynopsisdiv>

  <refsect1 id="func-cygwin-attach-handle-to-fd-desc">
    <title>Description</title>
<para>This function can be used to turn a Win32 "handle" into a
posix-style file handle. <parameter>fd</parameter> may be -1 to
make cygwin allocate a handle; the actual handle is returned
in all cases.</para>

<para>Even after using function, Cygwin doesn't know anything about the
underlying file or device.  It just tries to supply the typical file
functions on a "best-effort" basis.  Use with care.  Don't expect too
much.</para>
  </refsect1>
</refentry>

<refentry id="func-cygwin-internal">
  <refmeta>
    <refentrytitle>cygwin_internal</refentrytitle>
    <manvolnum>3</manvolnum>
    <refmiscinfo class="manual">Cygwin API Reference</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>cygwin_internal</refname>
  </refnamediv>

  <refsynopsisdiv>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;sys/cygwin.h&gt;
</funcsynopsisinfo>
<funcprototype>
<funcdef>uintptr_t
<function>cygwin_internal</function></funcdef>
<paramdef>cygwin_getinfo_types <parameter>t</parameter></paramdef>
<paramdef><parameter>...</parameter></paramdef>
</funcprototype></funcsynopsis>
  </refsynopsisdiv>

  <refsect1 id="func-cygwin-internal-desc">
    <title>Description</title>
<para>This function gives you access to various internal data and functions.
It takes two arguments.  The first argument is a type from the 'cygwin_getinfo_types'
enum.  The second is an optional pointer.</para>
<para>Stay away unless you know what you're doing.</para>
  </refsect1>
</refentry>


<refentry id="func-cygwin-stackdump">
  <refmeta>
    <refentrytitle>cygwin_stackdump</refentrytitle>
    <manvolnum>3</manvolnum>
    <refmiscinfo class="manual">Cygwin API Reference</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>cygwin_stackdump</refname>
  </refnamediv>

  <refsynopsisdiv>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;sys/cygwin.h&gt;
</funcsynopsisinfo>
<funcprototype>
<funcdef>void
<function>cygwin_stackdump</function></funcdef>
<void />
</funcprototype></funcsynopsis>
  </refsynopsisdiv>

  <refsect1 id="func-cygwin-stackdump-desc">
    <title>Description</title>
<para> Outputs a stackdump to stderr from the called location.
</para>
  </refsect1>
</refentry>

<refentry id="func-cygwin-cmdline-parse">
  <refmeta>
    <refentrytitle>cygwin_cmdline_parse</refentrytitle>
    <manvolnum>3</manvolnum>
    <refmiscinfo class="manual">Cygwin API Reference</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>cygwin_cmdline_parse</refname>
  </refnamediv>

  <refsynopsisdiv>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;sys/cygwin.h&gt;
</funcsynopsisinfo>
<funcprototype>
<funcdef>int
<function>cygwin_cmdline_parse</function></funcdef>
<paramdef>char *<parameter>cmd</parameter></paramdef>
<paramdef>char ***<parameter>pargv</parameter></paramdef>
<paramdef>char **<parameter>allocs</parameter></paramdef>
<paramdef>int <parameter>doglob</parameter></paramdef>
<paramdef>int <parameter>maxfile</parameter></paramdef>
</funcprototype></funcsynopsis>
  </refsynopsisdiv>

  <refsect1 id="func-cygwin-internal-desc">
    <title>Description</title>
<para>This function parses a Windows command line in the buffer in-place pointed to by <parameter>cmd</parameter> to the argv pointed to by <parameter>pargv</parameter>. Globbing is performed on non-quoted components if <parameter>doglob</parameter> is 1. Expansion of <ulink url="../cygwin-ug-net/using-specialnames.html#pathnames-at">@pathnames</ulink> is performed if <parameter>maxfile</parameter> is non-zero.</para>
<para><parameter>maxfile</parameter> specifies the maximum number of @pathname expansions to perform. If the value is positive, -EMLINK is returned when the limit is exceeded. Othewise the parser quietly keeps the value.</para>
<para>If <parameter>allocs</parameter> is non-NULL, any allocations due to @pathname expansions
are stored inside. The new buffers should be released using free().</para>
<para>The return value is the argument count, or a negative errno value on error. When an error occurs, <parameter>pargv</parameter> will reflect the extent of parsed arguments.</para>
<para>Parsing is generally done according to the rules found in the 2008 Microsoft C++ Runtime. Extentions to the rule include @pathname support, globbing via glob(3), and acceptance of single quotes for quoting.</para>
  </refsect1>
</refentry>

<refentry id="func-cygwin-cmdline-build">
  <refmeta>
    <refentrytitle>cygwin_cmdline_build</refentrytitle>
    <manvolnum>3</manvolnum>
    <refmiscinfo class="manual">Cygwin API Reference</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>cygwin_cmdline_build</refname>
  </refnamediv>

  <refsynopsisdiv>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;sys/cygwin.h&gt;
</funcsynopsisinfo>
<funcprototype>
<funcdef>char *
<function>cygwin_cmdline_build</function></funcdef>
<paramdef>const char * const *<parameter>argv</parameter></paramdef>
<paramdef>int <parameter>allow_overflow</parameter></paramdef>
<paramdef>int <parameter>forcequote</parameter></paramdef>
</funcprototype></funcsynopsis>
  </refsynopsisdiv>

  <refsect1 id="func-cygwin-internal-desc">
    <title>Description</title>
<para>This function builds a quoted Windows command line from the <parameter>argv</parameter> given. If <parameter>allow_overflow</parameter> is zero, a check is performed to prevent the cmdline from exceeding 32 KiB. If <parameter>forcequote</parameter> is true, all arguments will be quoted.</para>
<para>The return value is a pointer to a newly-built string or NULL on error. This buffer should be released using free().</para>
<para>This function is not a strict inversion of cygwin_cmdline_parse unless <parameter>forcequote</parameter> is on, due to the extensions provided by the parser.</para>
  </refsect1>
</refentry>

</sect1>
